<?xml version="1.0" encoding="UTF-8"?>
<sdf version="1.9">
	<model name="hermit">
		<link name="base_link">
			<self_collide>false</self_collide>
			<pose>-0.001559042498879469 -0.00012705778028637992 -0.03001362292917375 0.0 -0.0 0.0</pose>
			<inertial>
				<pose>0.0 0.0 0.0 0 0 0</pose>
				<mass>1.9351014774256954</mass>
				<inertia>
					<ixx>0.010003826998556216</ixx>
					<ixy>1.8055243573532933e-06</ixy>
					<ixz>4.321980401955412e-05</ixz>
					<iyy>0.012023955778993926</iyy>
					<iyz>4.7346027188299e-05</iyz>
					<izz>0.011437588209398155</izz>
				</inertia>
			</inertial>
			<collision name="base_link_collision">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/base_link.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>
			</collision>
			<visual name="base_link_visual">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/base_link.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>

				<material> <!-- DarkGrey-->
          			<ambient>0.175 0.175 0.175 1.0</ambient>
          			<diffuse>0.175 0.175 0.175 1.0</diffuse>
          			<specular>0.175 0.175 0.175 1.0</specular>
        		</material>
			</visual>


			<!-- sensor de pressao -->
			<sensor name="air_pressure_sensor" type="air_pressure">
				<always_on>1</always_on>
				<update_rate>50</update_rate>
				<air_pressure>
				<pressure>
					<noise type="gaussian">
						<mean>0</mean>
						<stddev>0.01</stddev>
					</noise>
				</pressure>
				</air_pressure>
			</sensor>

			<!-- adicao de imu -->
			<sensor name="imu_sensor" type="imu">
				<always_on>1</always_on>
				<update_rate>250</update_rate>
				<imu>
					<angular_velocity>
						<x>
							<noise type="gaussian">
								<mean>0</mean>
								<stddev>0.00018665</stddev>
								<dynamic_bias_stddev>3.8785e-05</dynamic_bias_stddev>
								<dynamic_bias_correlation_time>1000</dynamic_bias_correlation_time>
							</noise>
						</x>
						<y>
							<noise type="gaussian">
								<mean>0</mean>
								<stddev>0.00018665</stddev>
								<dynamic_bias_stddev>3.8785e-05</dynamic_bias_stddev>
								<dynamic_bias_correlation_time>1000</dynamic_bias_correlation_time>
							</noise>
						</y>
						<z>
							<noise type="gaussian">
								<mean>0</mean>
								<stddev>0.00018665</stddev>
								<dynamic_bias_stddev>3.8785e-05</dynamic_bias_stddev>
								<dynamic_bias_correlation_time>1000</dynamic_bias_correlation_time>
							</noise>
						</z>
					</angular_velocity>
					<linear_acceleration>
						<x>
							<noise type="gaussian">
								<mean>0</mean>
								<stddev>0.00186</stddev>
								<dynamic_bias_stddev>0.006</dynamic_bias_stddev>
								<dynamic_bias_correlation_time>300</dynamic_bias_correlation_time>
							</noise>
						</x>
						<y>
							<noise type="gaussian">
								<mean>0</mean>
								<stddev>0.00186</stddev>
								<dynamic_bias_stddev>0.006</dynamic_bias_stddev>
								<dynamic_bias_correlation_time>300</dynamic_bias_correlation_time>
							</noise>
						</y>
						<z>
							<noise type="gaussian">
								<mean>0</mean>
								<stddev>0.00186</stddev>
								<dynamic_bias_stddev>0.006</dynamic_bias_stddev>
								<dynamic_bias_correlation_time>300</dynamic_bias_correlation_time>
							</noise>
						</z>
					</linear_acceleration>
				</imu>
			</sensor>

			<!-- sensor nav_sat -->
			<!-- <sensor name="navsat_sensor" type="navsat">
				<always_on>1</always_on>
				<update_rate>30</update_rate>
			</sensor> -->

			<!-- magnetometro -->
			<!-- nesse caso, o nome do magnetometro deve coincidir com o que foi declarado na linha 224 do GZBridge.cpp. Caso contrario, a px4 nao consegue fazer a ponte do topico do GZ para a PX4 -->
			<sensor name="magnetometer_sensor" type="magnetometer">
				<always_on>1</always_on>
				<update_rate>50</update_rate>
				<magnetometer>
				<x>
					<noise type="gaussian">
					<mean>0.000000080</mean>
					<bias_mean>0.000000400</bias_mean>
					</noise>
				</x>
				<y>
					<noise type="gaussian">
					<mean>0.000000080</mean>
					<bias_mean>0.000000400</bias_mean>
					</noise>
				</y>
				<z>
					<noise type="gaussian">
					<mean>0.000000080</mean>
					<bias_mean>0.000000400</bias_mean>
					</noise>
				</z>
				</magnetometer>
			</sensor>
		</link>
		<link name="rotor_0">
			<gravity>true</gravity>
			<self_collide>false</self_collide>
			<velocity_decay/>
			<pose>0.17638442072246333 -0.1763900952871535 0.0664338159309642 0.0 -0.0 0.0</pose>
			<inertial>
				<pose>0.0 0.0 0.0 0 0 0</pose>
				<mass>0.012598625423458859</mass>
				<inertia>
					<ixx>3.712134860191299e-05</ixx>
					<ixy>-4.750345084613805e-07</ixy>
					<ixz>2.3732259979425408e-11</ixz>
					<iyy>3.7512151779699467e-07</iyy>
					<iyz>1.0117084061622706e-10</iyz>
					<izz>3.7315190887038074e-05</izz>
				</inertia>
			</inertial>
			<collision name="rotor_0_collision">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/rotor_0.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>
			</collision>
			<visual name="rotor_0_visual">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/rotor_0.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>

				<material>
					<ambient>0.694 0.071 0.071 1.0</ambient> <!-- Vermelho (#B21613) -->
					<diffuse>0.694 0.071 0.071 1.0</diffuse>
					<specular>0.5 0.5 0.5 1.0</specular>
				</material>
			</visual>
		</link>
		<link name="rotor_1">
			<gravity>true</gravity>
			<self_collide>false</self_collide>
			<velocity_decay/>
			<pose>-0.1763851112214826 0.17637943665679223 0.06643381593096595 0.0 -0.0 0.0</pose>
			<inertial>
				<pose>0.0 0.0 0.0 0 0 0</pose>
				<mass>0.012598625423458886</mass>
				<inertia>
					<ixx>3.712134860998955e-05</ixx>
					<ixy>-4.7503450468471265e-07</ixy>
					<ixz>-2.662628764138475e-11</ixz>
					<iyy>3.7512151727376876e-07</iyy>
					<iyz>1.5152938996898514e-10</iyz>
					<izz>3.731519089459159e-05</izz>
				</inertia>
			</inertial>
			<collision name="rotor_1_collision">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/rotor_1.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>
			</collision>
			<visual name="rotor_1_visual">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/rotor_1.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>

				<material>
					<ambient>0.01 0.01 0.01 1.0</ambient> <!-- Preto -->
					<diffuse>0.01 0.01 0.01 1.0</diffuse>
					<specular>0.5 0.5 0.5 1.0</specular>
				</material>
			</visual>
		</link>
		<link name="rotor_2">
			<gravity>true</gravity>
			<self_collide>false</self_collide>
			<velocity_decay/>
			<pose>0.1763844207224318 0.1763900954843642 0.06643381593098675 0.0 -0.0 0.0</pose>
			<inertial>
				<pose>0.0 0.0 0.0 0 0 0</pose>
				<mass>0.012598625423513388</mass>
				<inertia>
					<ixx>3.712134860171625e-05</ixx>
					<ixy>4.7502630770672743e-07</ixy>
					<ixz>2.3732261089648434e-11</ixz>
					<iyy>3.751215173294575e-07</iyy>
					<iyz>-1.0118419155880077e-10</iyz>
					<izz>3.731519088683486e-05</izz>
				</inertia>
			</inertial>
			<collision name="rotor_2_collision">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/rotor_2.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>
			</collision>
			<visual name="rotor_2_visual">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/rotor_2.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>

				<material>
					<ambient>0.694 0.071 0.071 1.0</ambient> <!-- Vermelho (#B21613) -->
					<diffuse>0.694 0.071 0.071 1.0</diffuse>
					<specular>0.5 0.5 0.5 1.0</specular>
				</material>
			</visual>
		</link>
		<link name="rotor_3">
			<gravity>true</gravity>
			<self_collide>false</self_collide>
			<velocity_decay/>
			<pose>-0.17638511122150996 -0.17637943645958717 0.06643381593098671 0.0 -0.0 0.0</pose>
			<inertial>
				<pose>0.0 0.0 0.0 0 0 0</pose>
				<mass>0.012598625423513386</mass>
				<inertia>
					<ixx>3.712134860979761e-05</ixx>
					<ixy>4.750263039277947e-07</ixy>
					<ixz>-2.6626286508957265e-11</ixz>
					<iyy>3.751215168058764e-07</iyy>
					<iyz>-1.515427406006964e-10</iyz>
					<izz>3.731519089439281e-05</izz>
				</inertia>
			</inertial>
			<collision name="rotor_3_collision">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/rotor_3.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>
			</collision>
			<visual name="rotor_3_visual">
				<geometry>
					<mesh>
						<uri>model://hermit/meshes/CAD/rotor_3.stl</uri>
						<scale>0.001 0.001 0.001</scale>
					</mesh>
				</geometry>

				<material>
					<ambient>0.01 0.01 0.01 1.0</ambient> <!-- Preto -->
					<diffuse>0.01 0.01 0.01 1.0</diffuse>
					<specular>0.5 0.5 0.5 1.0</specular>
				</material>
			</visual>
		</link>
		<joint name="rotor_0_joint" type="revolute">
			<parent>base_link</parent>
			<child>rotor_0</child>
			<pose>3.3020767602920387e-07 5.34435701716518e-06 -0.00513381593096594 0 0 0</pose>
			<axis>
				<xyz>1.3844322706171694e-16 1.2061169781634914e-16 1.0</xyz>
				<limit>
					<lower>-1e+16</lower>
          			<upper>1e+16</upper>
				</limit>
				<dynamics>
        				<spring_reference>0</spring_reference>
        				<spring_stiffness>0</spring_stiffness>
    			  	</dynamics>
			</axis>
		</joint>
		<joint name="rotor_1_joint" type="revolute">
			<parent>base_link</parent>
			<child>rotor_1</child>
			<pose>3.6029134623305483e-07 5.314273345078391e-06 -0.005133815930966001 0 0 0</pose>
			<axis>
				<xyz>-5.825324369117803e-16 1.2918848272431365e-16 1.0</xyz>
				<limit>
					<lower>-1e+16</lower>
          			<upper>1e+16</upper>
				</limit>
				<dynamics>
        				<spring_reference>0</spring_reference>
        				<spring_stiffness>0</spring_stiffness>
    			  	</dynamics>
			</axis>
		</joint>
		<joint name="rotor_2_joint" type="revolute">
			<parent>base_link</parent>
			<child>rotor_2</child>
			<pose>3.302077034916806e-07 -5.344554223860598e-06 -0.0051338159309885344 0 0 0</pose>
			<axis>
				<xyz>-2.1775621247105172e-16 4.853879222570787e-16 1.0</xyz>
				<limit>
					<lower>-1e+16</lower>
          			<upper>1e+16</upper>
				</limit>
				<dynamics>
        				<spring_reference>0</spring_reference>
        				<spring_stiffness>0</spring_stiffness>
    			  	</dynamics>
			</axis>
		</joint>
		<joint name="rotor_3_joint" type="revolute">
			<parent>base_link</parent>
			<child>rotor_3</child>
			<pose>3.602913736244773e-07 -5.314470552164608e-06 -0.005133815930988526 0 0 0</pose>
			<axis>
				<xyz>-2.2633299737901425e-16 -2.355877417164185e-16 1.0</xyz>
				<limit>
					<lower>-1e+16</lower>
          			<upper>1e+16</upper>
				</limit>
				<dynamics>
        				<spring_reference>0</spring_reference>
        				<spring_stiffness>0</spring_stiffness>
    			  	</dynamics>
			</axis>
		</joint>

		<plugin filename="gz-sim-multicopter-motor-model-system" name="gz::sim::systems::MulticopterMotorModel">
			<jointName>rotor_0_joint</jointName>
			<linkName>rotor_0</linkName>
			<turningDirection>ccw</turningDirection>
			<timeConstantUp>0.0125</timeConstantUp>
			<timeConstantDown>0.025</timeConstantDown>
			<maxRotVelocity>1000.0</maxRotVelocity>
			<motorConstant>8.54858e-06</motorConstant>
			<momentConstant>0.016</momentConstant>
			<commandSubTopic>command/motor_speed</commandSubTopic>
			<motorNumber>0</motorNumber>
			<rotorDragCoefficient>8.06428e-05</rotorDragCoefficient>
			<rollingMomentCoefficient>1e-06</rollingMomentCoefficient>
			<rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>
			<motorType>velocity</motorType>
		</plugin>
		<plugin filename="gz-sim-multicopter-motor-model-system" name="gz::sim::systems::MulticopterMotorModel">
			<jointName>rotor_1_joint</jointName>
			<linkName>rotor_1</linkName>
			<turningDirection>ccw</turningDirection>
			<timeConstantUp>0.0125</timeConstantUp>
			<timeConstantDown>0.025</timeConstantDown>
			<maxRotVelocity>1000.0</maxRotVelocity>
			<motorConstant>8.54858e-06</motorConstant>
			<momentConstant>0.016</momentConstant>
			<commandSubTopic>command/motor_speed</commandSubTopic>
			<motorNumber>1</motorNumber>
			<rotorDragCoefficient>8.06428e-05</rotorDragCoefficient>
			<rollingMomentCoefficient>1e-06</rollingMomentCoefficient>
			<rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>
			<motorType>velocity</motorType>
		</plugin>
		<plugin filename="gz-sim-multicopter-motor-model-system" name="gz::sim::systems::MulticopterMotorModel">
			<jointName>rotor_2_joint</jointName>
			<linkName>rotor_2</linkName>
			<turningDirection>cw</turningDirection>
			<timeConstantUp>0.0125</timeConstantUp>
			<timeConstantDown>0.025</timeConstantDown>
			<maxRotVelocity>1000.0</maxRotVelocity>
			<motorConstant>8.54858e-06</motorConstant>
			<momentConstant>0.016</momentConstant>
			<commandSubTopic>command/motor_speed</commandSubTopic>
			<motorNumber>2</motorNumber>
			<rotorDragCoefficient>8.06428e-05</rotorDragCoefficient>
			<rollingMomentCoefficient>1e-06</rollingMomentCoefficient>
			<rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>
			<motorType>velocity</motorType>
		</plugin>
		<plugin filename="gz-sim-multicopter-motor-model-system" name="gz::sim::systems::MulticopterMotorModel">
			<jointName>rotor_3_joint</jointName>
			<linkName>rotor_3</linkName>
			<turningDirection>cw</turningDirection>
			<timeConstantUp>0.0125</timeConstantUp>
			<timeConstantDown>0.025</timeConstantDown>
			<maxRotVelocity>1000.0</maxRotVelocity>
			<motorConstant>8.54858e-06</motorConstant>
			<momentConstant>0.016</momentConstant>
			<commandSubTopic>command/motor_speed</commandSubTopic>
			<motorNumber>3</motorNumber>
			<rotorDragCoefficient>8.06428e-05</rotorDragCoefficient>
			<rollingMomentCoefficient>1e-06</rollingMomentCoefficient>
			<rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>
			<motorType>velocity</motorType>
		</plugin>

		<!-- camera realsense T265 -->
		<include merge='true'>
			<uri>model://realsense_t265</uri>
			<pose>0.1125 0.020 0.013 -1.57 3.14 1.57</pose>
		</include>
		<joint name="CameraJoint" type="fixed">
			<parent>base_link</parent>
			<child>realsense_t265/base</child>
			<pose relative_to="base_link">0.100 0.020 0.013 -1.57 3.14 1.57</pose>
		</joint>

		<!-- camera realsense D455 -->
		<include merge="true">
			<uri>model://realsense_d455</uri>
			<pose>0.129227 0 -0.0507 0 1.57 0</pose>
		</include>

		<joint name="CameraJointD455" type="fixed">
			<parent>base_link</parent>
			<child>realsense_d455/base</child>
			<pose relative_to="base_link">0.129227 0 0.0507 0 1.57 0</pose>
		</joint>
		
	</model>
</sdf>
